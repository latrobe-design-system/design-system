{"version":3,"file":"ds-ltu.js","sources":["../../src/accordion/js/accordion.js","../../src/alert/js/alert.js","../../src/child-nav/js/page-nav.js","../../src/collapse/js/collapse.js","../../src/form/js/filter-group.js","../../src/image-gallery/js/image-gallery.js","../../src/modal/js/modal.js","../../src/promo/js/hero-promo.js","../../src/tab/js/tab.js","../../src/table/js/table.js","../../src/video/js/modal-video.js"],"sourcesContent":["/**\n * Accordion\n *\n * TODO: add up/down and home/end keyboard controls https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html\n */\njQuery(document).ready(function($) {\n \t//do jQuery stuff when DOM is ready\n\n    // show all default open accordions\n    const dsOpenAccordionOnLoad = (selector) => {\n        selector = selector || \".ds-accordion__trigger:not(.ds-no-js)\"\n        $( selector ).each(function() {\n            if($(this).attr('aria-expanded') == 'true') {\n                $(this).parent().next(\".ds-accordion__content\").show();\n            }\n        });\n    }\n\n    window.dsOpenAccordionOnLoad = dsOpenAccordionOnLoad\n\n    dsOpenAccordionOnLoad();\n\n    // click handler for accordions\n    jQuery(document).on('click', '.ds-accordion__trigger:not(.ds-no-js)', function(event) {\n        if ($(this).attr('aria-expanded') == 'true') {\n            $(this).attr( 'aria-expanded', 'false');\n        } else {\n            $(this).attr( 'aria-expanded', 'true');\n        }\n\n        $(this).parent().next(\".ds-accordion__content\").slideToggle();\n    });\n});\n","/*\n * Alert dismissal\n * attaches listener to alert close buttons\n * removes alert from DOM if close button clicked\n */\n\n$(document).ready(function() {\n    $('.ds-alert__close').on('click', function() {\n        $(this).parent().remove();\n    });\n});","/**\n * Page nav - add remove stuck modifier class for additional styling when stuck\n */\n \n $(document).ready(function() {\n\n    function toggleStuckClass() {\n        var actualOffset =  $('.ds-page-nav-container').offset().top - $(window).scrollTop();\n        if ($(window).width() >= 1024){ \n            // if at top\n            if(actualOffset == stickyOffset) {\n                $('.ds-page-nav-container').addClass('ds-page-nav-container--stuck');\n            }\n            else {\n                $('.ds-page-nav-container').removeClass('ds-page-nav-container--stuck');\n            }\n        } else {\n            $('.ds-page-nav-container').removeClass('ds-page-nav-container--stuck');\n        }\n    }\n     \n    /*** stick nav below site header on scroll ***/\n    // check if exists on page otherwise window scroll function will report error\n    if($('.ds-page-nav-container').length > 0){   \n\n        // get sticky top offset on load\n        var stickyOffset = parseInt($('.ds-page-nav-container').css('top'), 10);\n\n        // toggle stuck class on load\n        toggleStuckClass();\n\n        // toggle stuck class on scroll\n        $(window).scroll(function() {\n            toggleStuckClass();\n        });\n\n        // reset sticky on resize\n        $(window).on(\"resize\", function() {\n            stickyOffset = parseInt($('.ds-page-nav-container').css('top'), 10);\n            toggleStuckClass();\n        });\n\n    }\n\n});","$(document).ready(function() {\n\n  // expand control click handler for \n  jQuery(document).on('click', '.ds-collapse__trigger', function(event) {\n          var regionId = $(event.currentTarget).attr('aria-controls');\n    \n          if ($(event.currentTarget).attr('aria-expanded') == 'false') { // region is collapsed then open it\n    \n              // update the aria-expanded attribute of the clicked trigger\n              $(event.currentTarget).attr('aria-expanded', 'true');\n      \n              // open the region\n              $('#'+regionId).slideDown(function(){\n                $(event.currentTarget).removeAttr('hidden');\n              });\n      \n            }\n            else { // region is expanded then close it\n      \n              // update the aria-expanded attribute of the clicked triiger\n              $(event.currentTarget).attr('aria-expanded', 'false');\n    \n              // close the region\n              $('#'+regionId).slideUp(function(){\n                $(event.currentTarget).attr('hidden','hidden');\n              });   \n            }\n  });\n\n\n  // internal close button click handler\n    jQuery(document).on('click', '.ds-collapse__close', function(event) {\n    var regionId = $(event.currentTarget).attr('aria-controls');\n    $('.ds-collapse[aria-controls=\"'+regionId+'\"]').trigger('click').focus();\n\n  });\n\n});","$(document).ready(function() {\n    $('#show-course-filters').click(function() {\n        let filterButton = document.querySelector('#show-course-filters');\n        var $location = $('.ds-filter-megamenu');\n        // $location.toggle();\n        // $location.hide()\n\n        // let allFilters = document.querySelectorAll('.ds-filter-group__content__tab');\n\n\n        if (filterButton.textContent === 'Hide filters') {\n            filterButton.textContent = \"Show filters\";\n            filterButton.classList.add('ds-btn--ghost');\n            filterButton.classList.remove('ds-btn--ghost__active');\n            $location.slideUp();\n            // $(\"body\").removeClass(\"overlay overlay-open\");\n            // $location.show();\n        } else {\n            filterButton.textContent = \"Hide filters\";\n            filterButton.classList.add('ds-btn--ghost__active');\n            filterButton.classList.remove('ds-btn--ghost');\n            $location.slideDown();\n            // $(\"body\").addClass(\"overlay overlay-open\");\n        }\n            \n       \n\n        //     // $location.append(allFilters);\n        //     $location.append(allFilters);\n\n        //     allFilters.forEach(function( filterGroup ) {\n        //         console.log(filterGroup)\n        //         filterGroup.hidden = false;\n        //     })\n        // }\n\n    });\n\n    // expand control click handler for \n    $('.ds-filter-group__nav__tab, .ds-filter-group__nav__label').click(function() {\n\n        var regionId = $(this).attr('aria-controls');\n        var $location = $('.ds-filter-megamenu');\n        if ($(this).attr('aria-expanded') == 'false') { // region is collapsed then open it\n\n            // close any open siblings\n            $(this).siblings().each(function() {\n                var siblingRegionId = $(this).attr('aria-controls');\n\n                // close siblings colapsible region\n                $('#'+siblingRegionId).hide().attr('hidden','hidden');\n\n                // update the aria-expanded attribute of the siblings trigger\n                $(this).attr('aria-expanded', 'false');\n            });\n\n            // update the aria-expanded attribute of the clicked trigger\n            $(this).attr('aria-expanded', 'true');\n  \n            // open region\n            $('#'+regionId).slideDown(function(){\n                $(this).removeAttr('hidden');\n            });\n\n            $location.slideDown();\n            // $(\"body\").addClass(\"overlay overlay-open\");\n  \n        }\n        else { // region is expanded then close it\n  \n            // update the aria-expanded attribute of the region\n            $(this).attr('aria-expanded', 'false');\n            $location.slideUp();\n            // $(\"body\").removeClass(\"overlay overlay-open\");\n            // close region\n            $('#'+regionId).slideUp(function(){\n                $(this).attr('hidden','hidden');\n            });\n\n        }\n    });\n});","/**\n * Click handler for image gallery - opens all images in a modal\n *\n * @requires /_ltu-components/src/modal/js/modal.js\n */\n$(document).ready(function($) {\n \t//do jQuery stuff when DOM is ready\n    $('body').on('click', '.ds-image-gallery .ds-image-gallery__image, .ds-image-gallery__more button', function(e) {\n        e.preventDefault();\n\n        var target = e.target; // element clicked\n\n        var modalContent = $(this).parents('.ds-image-gallery').html();\n\n        openModal(target, modalContent, 'medium');\n    });\n});\n","/**\n *  Modal\n */\n\n /**\n *  Function Open Modal\n *  @param: {Object} target - element to return focus to when model closed\n *  @param: {Object} content - html content to show in modal\n *  @param: {string} maxWidth - sets a max width for the modal [medium | large]\n *  @param: {string} staticBackdrop - sets whether or not backdrop click closes modal [no | yes]\n */\n// make function available globally (without this it can't be used by other js files) -- there is probably a better way\nwindow.openModal = function openModal(target, content, maxWidth='800px', staticBackdrop='no'){\n     \n    // add an attribute to the element to return focus to on overlay close\n    $(target).attr('data-returnfocus', 'yes');\n     \n     // create overlay\n     var dialog = '<div class=\"ds-modal overlay\" role=\"dialog\" aria-modal=\"true\">\\n<div class=\"ds-modal-dialog\">'+content+'</div></div>';\n     \n     // append overlay to page and add overlay-open class to body to stop scroll\n     $('body').append(dialog).addClass('overlay-open');\n     \n     // set max width of modal\n     $('.ds-modal-dialog').css('max-width', maxWidth);\n     \n     // fade in overlay change focus to overlay close button\n     $('.ds-modal').fadeIn(function(){\n        // find first focusable element and set focus\n        $(this).find('button:visible, [href]:visible, input:visible, select:visible, textarea:visible, [tabindex]:not([tabindex=\"-1\"]):visible').eq(0).focus();\n\n        if(staticBackdrop == 'yes') {\n            $(this).addClass('static-backdrop');\n        } else {\n            // append close button\n            $(this).append('<button id=\"overlay-close\" class=\"ds-btn-round ds-btn--light ds-icon-x\">Close</button>');\n         }\n     });\n }\n\n/**\n *  Function Close Modal\n */\n// make function available globally\nwindow.closeModal = function closeModal(){\n    $('.ds-modal').fadeOut(function(){\n\n        // delete modal\n        $(this).remove();\n        \n        // find return focus element\n        var returnFocusLink = '[data-returnfocus=\"yes\"]';\n\n        // return focus to return focus element and remove identifying attribute\n        $(returnFocusLink).focus().removeAttr('data-returnfocus');\n        \n        // return scroll to body\n        $('body').removeClass('overlay-open');\n    });\n}\n\n $(document).ready(function($) {\n    /**\n     *  Click handler for modal close button\n     */\n    $('body').on('click keydown', '.ds-modal', function(event) {\n\n        // if modal is not of type static backdrop\n        if(!$(this).hasClass('static-backdrop')) {\n \n            if($(event.target).is('#overlay-close') || $(event.target).is('.ds-modal')) {\n                \n                if (event.keyCode === undefined || event.keyCode == 13 || event.keyCode == 27) {\n                    // undefined for click, 13 for enter key, 27 for esc key\n                    event.preventDefault();\n                    \n                    // close the modal\n                    closeModal($(this));\n                }\n            }\n\n        }\n    });\n\n    /**\n     *  Click handler for standard modal open button\n     */\n    $('body').on('click', '[data-modal-content]', function(e) {\n        // prevent default click action\n        e.preventDefault();\n\n        // get object that was clicked\n        var target = e.target;\n\n        // get the modal content id from the clicked button\n        var modalContentId = $(target).attr('data-modal-content');\n\n        // get requested modal width\n        var modalWidth = $(target).attr('data-modal-width');\n        var maxWidth;\n        if (modalWidth == \"medium\") {\n            maxWidth = \"1024px\";\n        } else if (modalWidth == \"large\") {\n            maxWidth = \"1280px\";\n        } else {\n            maxWidth = \"800px\";\n        }\n\n        // get static backdrop flag\n        var staticBackdrop = $(target).attr('data-static-backdrop');\n\n        //create the modal\n        var modalContent = $('<div/>').append($('#'+modalContentId).clone()).html();\n\n        // show the modal\n        openModal(target, modalContent, maxWidth, staticBackdrop);\n    });\n\n});\n","$(document).ready(function() {\n    // if .ds-hero-promo is present and la trobe logo is wrapped in h1 (only on homepage)\n    if($( '.ds-hero-promo__text').length > 0 && $( '#logo h1 img' ).length > 0) {\n\n        var viewportWidth = $( window ).width();\n        var windowScrolltop = $(this).scrollTop();\n        var promoTextOffset = $( '.ds-hero-promo__text').offset().top;\n\n        // disappear header logo when promo used\n        if( viewportWidth > 1023 ) { \n            if( windowScrolltop > promoTextOffset ) {\n                $( '#logo h1 img' ).css( 'transform', 'translateY(0)' );\n            } else {\n                $( '#logo h1 img' ).css( 'transform', 'translateY(-100%)' );\n            }\n        }\n\n        // reappear header logo when scroll past promo text\n        $( window ).scroll(function() {\n            windowScrolltop = $(this).scrollTop();\n\n            if( viewportWidth > 1023 ) {\n                if( windowScrolltop > promoTextOffset ) {\n                    $( '#logo h1 img' ).css( 'transform', 'translateY(0)' );\n                } else {\n                    $( '#logo h1 img' ).css( 'transform', 'translateY(-100%)' );\n                }\n            }\n        });\n\n        // disaapear or reappear on window resize\n        $( window ).resize(function() {\n            viewportWidth = $( window ).width();\n            if( viewportWidth > 1023 ) {\n                if( windowScrolltop > promoTextOffset ) {\n                    $( '#logo h1 img' ).css( 'transform', 'translateY(0)' );\n                } else {\n                    $( '#logo h1 img' ).css( 'transform', 'translateY(-100%)' );\n                }\n            } else {\n                $( '#logo h1 img' ).css( 'transform', 'translateY(0)' );\n            }\n        });\n\n    }\n\n});","/*\n *  Adapted from: \n *  https://www.w3.org/TR/wai-aria-practices/examples/tabs/tabs-2/tabs.html\n */\n\n$(document).ready(function(){\n\n  // For easy reference\n  var keys = {\n    end: 35,\n    home: 36,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    delete: 46,\n    enter: 13,\n    space: 32\n  };\n\n  // Add or subtract depending on key pressed\n  var direction = {\n    37: -1,\n    38: -1,\n    39: 1,\n    40: 1\n  };\n\n // Events bound to page content wrapper to reduce number of registered events and also make it work for ajax loaded content\n\n  // When a tab is clicked, activateTab is fired to activate it\n  $('.ds-page-content').on('click', '.ds-tabs-nav__tab', function(){\n    var tabButton = $(this);\n    activateTab(tabButton, false);\n  });\n\n  // Handle keydown on tabs\n  $('.ds-page-content').on('keydown', '.ds-tabs-nav__tab', function(event){\n    var key = event.keyCode;\n    var tabButton = $(this);\n    var tablist = tabButton.parent();\n\n    switch (key) {\n      case keys.end:\n        event.preventDefault();\n        // Activate last tab\n        focusLastTab($(tablist).children());\n        break;\n      case keys.home:\n        event.preventDefault();\n        // Activate first tab\n        focusFirstTab($(tablist).children());\n        break;\n\n      // Up and down are in keydown\n      // because we need to prevent page scroll >:)\n      case keys.up:\n      case keys.down:\n        determineOrientation(tablist, tabButton, event);\n        break;\n    };\n  });\n\n  // Handle keyup on tabs\n  $('.ds-page-content').on('keyup', '.ds-tabs-nav__tab', function(event){\n    var key = event.keyCode;\n    var tabButton = $(this);\n    var tablist = tabButton.parent();\n\n    switch (key) {\n      case keys.left:\n      case keys.right:\n        determineOrientation(tablist, tabButton, event);\n        break;\n      case keys.enter:\n      case keys.space:\n        activateTab(tabButton);\n        break;\n    };\n  });\n\n  // When a tablists aria-orientation is set to vertical,\n  // only up and down arrow should function.\n  // In all other cases only left and right arrow function.\n  function determineOrientation (tablist, tabButton, event) {\n    var key = event.keyCode;\n    var vertical = tablist.attr('aria-orientation') == 'vertical';\n    var proceed = false;\n\n    if (vertical) {\n      if (key === keys.up || key === keys.down) {\n        event.preventDefault();\n        proceed = true;\n      };\n    }\n    else {\n      if (key === keys.left || key === keys.right) {\n        proceed = true;\n      };\n    };\n\n    if (proceed) {\n      switchTabOnArrowPress(tablist, tabButton, event);\n    };\n  };\n\n  // Either focus the next, previous, first, or last tab\n  // depending on key pressed\n  function switchTabOnArrowPress (tablist, tabButton, event) {\n    var pressed = event.keyCode;\n    var tabs = $(tablist).children();\n    var tabButtonIndex = tabs.index(tabButton);\n\n    if (direction[pressed]) {\n      var target = event.target;\n      \n      if (tabButtonIndex !== undefined) {\n        if (tabs[tabButtonIndex + direction[pressed]]) {\n          tabs[tabButtonIndex + direction[pressed]].focus();\n        }\n        else if (pressed === keys.left || pressed === keys.up) {\n          focusLastTab(tabs);\n        }\n        else if (pressed === keys.right || pressed == keys.down) {\n          focusFirstTab(tabs);\n        };\n      };\n    };\n  };\n\n\n  // Activates any given tab panel\n  function activateTab (tabButton, setFocus) {\n    setFocus = setFocus || true;\n\n    // id of button\n    var tabButtonId = tabButton.attr('id');\n    // id of tab button controls\n    var tab = $('[aria-labelledby=\"'+tabButtonId+'\"]');\n\n    // Deactivate all tabs\n    deactivateTabs(tabButton, tab);\n\n    // Remove tabindex attribute\n    tabButton.removeAttr('tabindex');\n\n    // Set the tab as selected\n    tabButton.attr('aria-selected', 'true');\n\n    // Remove hidden attribute from tab panel to make it visible\n    tab.removeAttr('hidden');\n\n    // Set focus when required\n    if (setFocus) {\n      tabButton.focus();\n    };\n  };\n\n\n  // Deactivate all tabs and tab panels\n  function deactivateTabs (tabButton, tab) {\n\n    // set tab button and sibling buttons to unselected state \n    tabButton.attr('tabindex', '-1').siblings('[role=\"tab\"]').attr('tabindex', '-1');\n    tabButton.attr('aria-selected', 'false').siblings('.ds-tabs-nav__tab').attr('aria-selected', 'false');\n\n    // set tab and sibling tabs to unselected state\n    tab.attr('hidden', 'hidden').siblings('[role=\"tabpanel\"]').attr('hidden', 'hidden');\n    \n  };\n\n\n  // focus firts tab\n  function focusFirstTab (tabs) {\n    tabs.first().focus();\n  };\n\n  // focus last tab\n  function focusLastTab (tabs) {\n    tabs.last().focus();\n  };\n\n\n \n  // trigger tab if URL # equals tab id - this is to allow linking to specific tab\n  var url = document.location.toString();\n  if (url.match('#')) {\n    var tabtoopen = document.getElementById(url.split('#')[1])\n    tabtoopen.click();\n  }\n\n});","/**\n * Wrap tables in scroll box for repsonsive layout\n * This is required for Squiz wysiwyg tables\n */\njQuery(document).ready(function() {\n \t//do jQuery stuff when DOM is ready\n    $( 'table' ).each(function() {\n        if(!$( this ).parent().hasClass( 'ds-table-wrapper' )) {\n            $( this ).wrap( '<div class=\"ds-table-wrapper\"></div>' );\n        }\n    });\n});\n","/**\n * YouTube modal video\n *\n * @requires: /ltu-components/src/modal/js/modal.js\n */\n$(document).ready(function($) {\n     //do jQuery stuff when DOM is ready\n    $('body').on('click', 'a[data-youtube]', function(e) {\n        e.preventDefault();\n\n        // get object that was clicked\n        var target = e.target;\n\n        // get the youtube video id from the clicked play link\n        var videoId = $(target).attr('data-youtube');\n\n        // modal content\n        var modalContent = '<div class=\"ds-video ds-video--fullwidth\"><div class=\"ds-video__wrapper\"><iframe id=\"vid-'+videoId+'\" width=\"560\" height=\"315\" type=\"text/html\" src=\"https://www.youtube.com/embed/'+videoId+'?rel=0&amp;autoplay=1\" frameborder=\"0\" allowfullscreen></iframe></div></div>';\n\n        // open modal with responsive video content\n        openModal(target, modalContent, 'medium');\n    });\n});\n"],"names":["jQuery","document","ready","$","dsOpenAccordionOnLoad","selector","each","this","attr","parent","next","show","window","on","event","slideToggle","remove","toggleStuckClass","actualOffset","offset","top","scrollTop","width","stickyOffset","addClass","removeClass","length","parseInt","css","scroll","regionId","currentTarget","slideDown","removeAttr","slideUp","trigger","focus","click","let","filterButton","querySelector","$location","textContent","classList","add","siblings","siblingRegionId","hide","e","preventDefault","target","modalContent","parents","html","openModal","content","maxWidth","staticBackdrop","dialog","append","fadeIn","find","eq","closeModal","fadeOut","hasClass","is","undefined","keyCode","modalContentId","modalWidth","clone","viewportWidth","windowScrolltop","promoTextOffset","resize","keys","end","home","left","up","right","down","delete","enter","space","direction","37","38","39","40","determineOrientation","tablist","tabButton","key","proceed","pressed","tabs","children","tabButtonIndex","index","focusLastTab","focusFirstTab","activateTab","setFocus","tab","tabButtonId","first","last","url","location","toString","match","getElementById","split","wrap","videoId"],"mappings":"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"}